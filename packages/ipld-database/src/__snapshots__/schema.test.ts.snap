// Vitest Snapshot v1

exports[`@candor/ipld-database/schema > should create tables 1`] = `
{
  "headers": {
    "encrypted": false,
    "index": 0,
    "recordsFrom": 1,
    "recordsTo": 1,
    "schema": "test",
    "table": "test",
  },
  "prevCID": undefined,
}
`;

exports[`@candor/ipld-database/schema > should save and restore from dag 1`] = `
Table {
  "currentBlock": {
    "filters": {
      "aggregates": {
        "count": 14,
      },
      "indexes": {
        "name": {
          "z2ikNK1j9q8xKhdHit": {
            "ids": [
              11,
            ],
            "values": [
              "test #10",
            ],
          },
          "z2ikNK1j9q8xKhddCp": {
            "ids": [
              12,
            ],
            "values": [
              "test #11",
            ],
          },
          "z2ikNK1j9q8xKhdxgk": {
            "ids": [
              13,
            ],
            "values": [
              "test #12",
            ],
          },
          "z2ikNK1j9q8xKheJAg": {
            "ids": [
              14,
            ],
            "values": [
              "test #13",
            ],
          },
          "z2ikNK1j9q8xKhedec": {
            "ids": [
              15,
            ],
            "values": [
              "test #14",
            ],
          },
        },
      },
    },
    "headers": {
      "encrypted": false,
      "index": 0,
      "recordsFrom": 11,
      "recordsTo": 15,
      "schema": "test",
      "table": "test",
    },
    "prevCID": "bagaaieraytrqkt5hvcnngql3n3t2yqccz4ccs2f4iaw4wrii6efcaie5rqka",
    "records": {
      "11": {
        "count": 10,
        "id": 11,
        "name": "test #10",
      },
      "12": {
        "count": 11,
        "id": 12,
        "name": "test #11",
      },
      "13": {
        "count": 12,
        "id": 13,
        "name": "test #12",
      },
      "14": {
        "count": 13,
        "id": 14,
        "name": "test #13",
      },
      "15": {
        "count": 14,
        "id": 15,
        "name": "test #14",
      },
    },
  },
  "currentBlockIndex": 0,
  "currentIndex": 16,
  "dag": TestDIDDag {
    "dag": TestDag {
      "cache": {
        "bagaaierad7u34earpugu23e63h5uem43vni62zzleyehk5o46njxk37jut7a": {
          "filters": {
            "aggregates": {
              "count": 14,
            },
            "indexes": {
              "name": {
                "z2ikNK1j9q8xKhdHit": {
                  "ids": [
                    11,
                  ],
                  "values": [
                    "test #10",
                  ],
                },
                "z2ikNK1j9q8xKhddCp": {
                  "ids": [
                    12,
                  ],
                  "values": [
                    "test #11",
                  ],
                },
                "z2ikNK1j9q8xKhdxgk": {
                  "ids": [
                    13,
                  ],
                  "values": [
                    "test #12",
                  ],
                },
                "z2ikNK1j9q8xKheJAg": {
                  "ids": [
                    14,
                  ],
                  "values": [
                    "test #13",
                  ],
                },
                "z2ikNK1j9q8xKhedec": {
                  "ids": [
                    15,
                  ],
                  "values": [
                    "test #14",
                  ],
                },
              },
            },
          },
          "headers": {
            "encrypted": false,
            "index": 0,
            "recordsFrom": 11,
            "recordsTo": 15,
            "schema": "test",
            "table": "test",
          },
          "prevCID": "bagaaieraytrqkt5hvcnngql3n3t2yqccz4ccs2f4iaw4wrii6efcaie5rqka",
          "records": {
            "11": {
              "count": 10,
              "id": 11,
              "name": "test #10",
            },
            "12": {
              "count": 11,
              "id": 12,
              "name": "test #11",
            },
            "13": {
              "count": 12,
              "id": 13,
              "name": "test #12",
            },
            "14": {
              "count": 13,
              "id": 14,
              "name": "test #13",
            },
            "15": {
              "count": 14,
              "id": 15,
              "name": "test #14",
            },
          },
        },
        "bagaaieranhygp6d7oswykz2bclv7gpwdowm3radxdif3xnc244b43s7h64oq": {
          "defs": {
            "test": {
              "aggregate": {
                "count": "max",
              },
              "encrypted": false,
              "indexes": {
                "name": {
                  "fields": [
                    "name",
                  ],
                  "unique": true,
                },
              },
              "rollup": 10,
              "schema": {
                "properties": {
                  "count": {
                    "type": "number",
                  },
                  "name": {
                    "type": "string",
                  },
                },
                "type": "object",
              },
              "schemaId": "test",
              "searchOptions": {
                "fields": [
                  "name",
                  "id",
                ],
              },
            },
          },
          "schemaId": "test",
          "tables": {
            "test": "bagaaierad7u34earpugu23e63h5uem43vni62zzleyehk5o46njxk37jut7a",
          },
        },
        "bagaaieraytrqkt5hvcnngql3n3t2yqccz4ccs2f4iaw4wrii6efcaie5rqka": {
          "filters": {
            "aggregates": {
              "count": 9,
            },
            "indexes": {
              "name": {
                "zPbkLwYJQbRmZQwe": {
                  "ids": [
                    1,
                  ],
                  "values": [
                    "test #0",
                  ],
                },
                "zPbkLwYJQbRmZkRa": {
                  "ids": [
                    2,
                  ],
                  "values": [
                    "test #1",
                  ],
                },
                "zPbkLwYJQbRma5uW": {
                  "ids": [
                    3,
                  ],
                  "values": [
                    "test #2",
                  ],
                },
                "zPbkLwYJQbRmaRPS": {
                  "ids": [
                    4,
                  ],
                  "values": [
                    "test #3",
                  ],
                },
                "zPbkLwYJQbRmaksN": {
                  "ids": [
                    5,
                  ],
                  "values": [
                    "test #4",
                  ],
                },
                "zPbkLwYJQbRmb6MJ": {
                  "ids": [
                    6,
                  ],
                  "values": [
                    "test #5",
                  ],
                },
                "zPbkLwYJQbRmbRqE": {
                  "ids": [
                    7,
                  ],
                  "values": [
                    "test #6",
                  ],
                },
                "zPbkLwYJQbRmbmKA": {
                  "ids": [
                    8,
                  ],
                  "values": [
                    "test #7",
                  ],
                },
                "zPbkLwYJQbRmc6o6": {
                  "ids": [
                    9,
                  ],
                  "values": [
                    "test #8",
                  ],
                },
                "zPbkLwYJQbRmcSH2": {
                  "ids": [
                    10,
                  ],
                  "values": [
                    "test #9",
                  ],
                },
              },
            },
          },
          "headers": {
            "encrypted": false,
            "index": 0,
            "recordsFrom": 1,
            "recordsTo": 10,
            "schema": "test",
            "table": "test",
          },
          "prevCID": undefined,
          "records": {
            "1": {
              "count": 0,
              "id": 1,
              "name": "test #0",
            },
            "10": {
              "count": 9,
              "id": 10,
              "name": "test #9",
            },
            "2": {
              "count": 1,
              "id": 2,
              "name": "test #1",
            },
            "3": {
              "count": 2,
              "id": 3,
              "name": "test #2",
            },
            "4": {
              "count": 3,
              "id": 4,
              "name": "test #3",
            },
            "5": {
              "count": 4,
              "id": 5,
              "name": "test #4",
            },
            "6": {
              "count": 5,
              "id": 6,
              "name": "test #5",
            },
            "7": {
              "count": 6,
              "id": 7,
              "name": "test #6",
            },
            "8": {
              "count": 7,
              "id": 8,
              "name": "test #7",
            },
            "9": {
              "count": 8,
              "id": 9,
              "name": "test #8",
            },
          },
        },
      },
    },
    "did": DID {
      "_client": RPCClient {},
      "_id": "did:key:z6MkofP3UGcgQT1iXWFmxczLNCddG5MrWbsrKRNGcJSVyebo",
      "_resolver": Resolver {
        "cache": [Function],
        "registry": {
          "key": [Function],
        },
      },
    },
  },
  "debug": {
    "enabled": false,
    "logger": [Function],
  },
  "def": {
    "aggregate": {
      "count": "max",
    },
    "encrypted": false,
    "indexes": {
      "name": {
        "fields": [
          "name",
        ],
        "unique": true,
      },
    },
    "rollup": 10,
    "schema": {
      "properties": {
        "count": {
          "type": "number",
        },
        "name": {
          "type": "string",
        },
      },
      "type": "object",
    },
    "schemaId": "test",
    "searchOptions": {
      "fields": [
        "name",
        "id",
      ],
    },
  },
  "encrypted": false,
  "tableId": "test",
  "writeStartAt": 0,
  "writing": false,
}
`;
