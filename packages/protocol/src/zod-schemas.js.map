{"version":3,"file":"zod-schemas.js","sourceRoot":"","sources":["zod-schemas.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,CAAC,EAAE,MAAM,KAAK,CAAC;AAExB,yCAAyC;AACzC,MAAM,CAAC,MAAM,cAAc,GAAG,CAAC,CAAC,MAAM,CAAC;IACrC,MAAM,EAAE,CAAC,CAAC,MAAM,EAAE;IAClB,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAC1B,SAAS,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,QAAQ,EAAE;IACzC,SAAS,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,QAAQ,EAAE;CAC1C,CAAC,CAAC;AAEH,MAAM,CAAC,MAAM,eAAe,GAAG,CAAC,CAAC,MAAM,CAAC;IACtC,SAAS,EAAE,CAAC,CAAC,MAAM,EAAE;CACtB,CAAC,CAAC;AAEH,yBAAyB;AACzB,MAAM,CAAC,MAAM,eAAe,GAAG;IAC7B,IAAI,EAAE;QACJ,uBAAuB,EAAE,eAAe;QAExC,sBAAsB,EAAE,CAAC,CAAC,MAAM,CAAC;YAC/B,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;YACf,SAAS,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;SACjC,CAAC;QAEF,kBAAkB,EAAE,eAAe;QAEnC,kBAAkB,EAAE,CAAC,CAAC,MAAM,CAAC;YAC3B,SAAS,EAAE,CAAC,CAAC,MAAM,EAAE;YACrB,OAAO,EAAE,CAAC,CAAC,MAAM,EAAE;SACpB,CAAC;KACH;IAED,OAAO,EAAE;QACP,uBAAuB,EAAE,eAAe;QAExC,sBAAsB,EAAE,CAAC,CAAC,MAAM,CAAC;YAC/B,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;YACf,SAAS,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;SACjC,CAAC;QAEF,kBAAkB,EAAE,eAAe;QAEnC,kBAAkB,EAAE,CAAC,CAAC,MAAM,CAAC;YAC3B,SAAS,EAAE,CAAC,CAAC,MAAM,EAAE;YACrB,OAAO,EAAE,CAAC,CAAC,MAAM,EAAE;SACpB,CAAC;QAEF,sBAAsB,EAAE,CAAC,CAAC,MAAM,CAAC;YAC/B,KAAK,EAAE,CAAC,CAAC,MAAM,EAAE;YACjB,OAAO,EAAE,CAAC,CAAC,OAAO,EAAE;YACpB,SAAS,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;SACjC,CAAC;KACH;IAED,OAAO,EAAE;QACP,eAAe,EAAE,CAAC,CAAC,MAAM,CAAC;YACxB,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;YACf,MAAM,EAAE,CAAC,CAAC,MAAM,EAAE;SACnB,CAAC;QAEF,kBAAkB,EAAE,CAAC,CAAC,MAAM,CAAC;YAC3B,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;YACf,MAAM,EAAE,CAAC,CAAC,MAAM,EAAE;YAClB,MAAM,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;SAC9B,CAAC;KACH;IAED,SAAS,EAAE;QACT,eAAe,EAAE,CAAC,CAAC,MAAM,CAAC;YACxB,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;YAC1B,MAAM,EAAE,CAAC,CAAC,MAAM,EAAE;SACnB,CAAC;QAEF,kBAAkB,EAAE,CAAC,CAAC,MAAM,CAAC;YAC3B,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;YAC1B,MAAM,EAAE,CAAC,CAAC,MAAM,EAAE;YAClB,MAAM,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;SAC9B,CAAC;KACH;IAED,IAAI,EAAE;QACJ,oBAAoB,EAAE,cAAc;QACpC,uBAAuB,EAAE,cAAc;QACvC,gBAAgB,EAAE,CAAC,CAAC,MAAM,CAAC;YACzB,KAAK,EAAE,CAAC,CAAC,MAAM,EAAE;YACjB,IAAI,EAAE,cAAc,CAAC,QAAQ,EAAE;YAC/B,OAAO,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,QAAQ,EAAE;SACtD,CAAC;KACH;CACF,CAAC","sourcesContent":["import { z } from 'zod';\n\n// Base schemas for common protocol types\nexport const peerInfoSchema = z.object({\n  peerId: z.string(),\n  did: z.string().optional(),\n  addresses: z.array(z.string()).optional(),\n  protocols: z.array(z.string()).optional()\n});\n\nexport const timestampSchema = z.object({\n  timestamp: z.number()\n});\n\n// Protocol event schemas\nexport const protocolSchemas = {\n  send: {\n    '/cinderlink/keepalive': timestampSchema,\n    \n    '/cinderlink/identity': z.object({\n      did: z.string(),\n      publicKey: z.string().optional()\n    }),\n    \n    '/cinderlink/ping': timestampSchema,\n    \n    '/cinderlink/pong': z.object({\n      timestamp: z.number(),\n      latency: z.number()\n    })\n  },\n  \n  receive: {\n    '/cinderlink/keepalive': timestampSchema,\n    \n    '/cinderlink/identity': z.object({\n      did: z.string(),\n      publicKey: z.string().optional()\n    }),\n    \n    '/cinderlink/ping': timestampSchema,\n    \n    '/cinderlink/pong': z.object({\n      timestamp: z.number(),\n      latency: z.number()\n    }),\n    \n    '/cinderlink/protocol': z.object({\n      topic: z.string(),\n      payload: z.unknown(),\n      requestId: z.string().optional()\n    })\n  },\n  \n  publish: {\n    '/peer/connect': z.object({\n      did: z.string(),\n      peerId: z.string()\n    }),\n    \n    '/peer/disconnect': z.object({\n      did: z.string(),\n      peerId: z.string(),\n      reason: z.string().optional()\n    })\n  },\n  \n  subscribe: {\n    '/peer/connect': z.object({\n      did: z.string().optional(),\n      peerId: z.string()\n    }),\n    \n    '/peer/disconnect': z.object({\n      did: z.string().optional(),\n      peerId: z.string(),\n      reason: z.string().optional()\n    })\n  },\n  \n  emit: {\n    'protocol:connected': peerInfoSchema,\n    'protocol:disconnected': peerInfoSchema,\n    'protocol:error': z.object({\n      error: z.string(),\n      peer: peerInfoSchema.optional(),\n      context: z.record(z.string(), z.unknown()).optional()\n    })\n  }\n};\n\n// Inferred types\nexport type ProtocolEvents = z.infer<typeof protocolSchemas>;"]}